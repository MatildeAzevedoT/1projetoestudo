<!DOCTYPE html>
<html lang="pt-PT">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UpStyle</title>
    <link rel="stylesheet" href="css/bigscreenIndex.css">
    <link rel="stylesheet" href="css/mobileindex.css" media="(max-width: 600px)">
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet" />
    <style>
        @font-face{
            font-family: 'letraMao';
            src:url(../font_texto/CatShop.ttf);
        }
    
        :root{
            --cor1 : #aceccc;
            --cor2 : #4e8e70;
            --cor3 : #176087;
            --cor4 : #979291;
            --cor5 : #000;
            --cor6 : #fff;
    
            --letraManuscrito : 'letraMao', sans-serif; 
            --letranormal:  Arial, Helvetica, sans-serif;
    
        }
        </style>
</head>
<body>
   <header>
        <div id="imgfundoindex">
            <nav id="barranav">
                <a class="logo" href="index.html"><img src="img/logo.png" alt="" width="120px"></a>
                <ul id="linkbarranav">
                    <li>
                        <a href="#">Novidades</a>
                    </li>
                    <li><a href="#">Cole√ß√µes</a></li>
                    <li><a href="#">Sustentabilidade</a></li>
                    <li><a href="#">Sobre</a></li>
                </ul>
                <div class="icones">
                    <ul>
                    <li><a href="#"><span class="material-symbols-outlined">
                        light_mode
                        </span></a></li>
                    <li><a href="#"><span class="material-symbols-outlined">
                        favorite
                        </span></a></li>
                    <li id="carrinho"><a href="#"><span class="material-symbols-outlined">
                        shopping_cart
                        </span></a></li>
                    <li><span id="username-display">Carregando...</span></li>
                    <li id="iconeRegistro"></li>
                    </ul>
                    <div id="menuUsuario" class="menu-oculto">
                        <ul id="menudousuario">
                            <li><a href="index.html">‚≠ê Favoritos</a></li>
                            <li><a href="index.html">üõí Meus Pedidos</a></li>
                            <li id="logout">üö™ Logout</li>
                        </ul>
                    </div>
                </div> 
            </nav>

            <img id="imageminicio" src="img/asdrubal-luna-RPG_fve14_Y-unsplash.jpg" alt="">
            <div id="apresentacao">
                <h1>O futuro da <br> moda</h2>
                <p>Descubra nossa cole√ß√£o inovadora que combina tecnologia de ponta com sustentabilidade. Roupas que n√£o s√≥ parecem do futuro, mas tamb√©m ajudam a preservar nosso planeta.</p>
                <a href="#" id="linkcolecoes">Explorar cole√ß√µes</a>
                <a href="#" id="linksabermais">Saber mais</a>
            </div>
        </div>

   </header>

   <script>
    function exibirNomeUsuario() {
            let usuarioLogado = JSON.parse(localStorage.getItem('usuarioLogado'));

            let menuUsuario = document.getElementById('menuUsuario')

            if(!iconeRegistro || !menuUsuario) return

            if (usuarioLogado) {
                document.getElementById('username-display').textContent = `Ol√°, ${usuarioLogado.usuario}!`;
                document.getElementById('iconeRegistro').innerHTML = '<span class="material-symbols-outlined" id= "iconeUsuario">face</span>'
                document.getElementById('iconeUsuario').style.cursor = 'pointer'
                document.getElementById('iconeUsuario').addEventListener('click', function(e){
                    e.stopPropagation()
                    menuUsuario.style.display = menuUsuario.style.display === 'block' ? 'none' : 'block'
                })

                document.addEventListener('click', function(e){
                    if(!menuUsuario.contains(e.target) && e.target.id !== 'iconeUsuario'){
                        menuUsuario.style.display = 'none'
                    }
                })
            } else {
                document.getElementById('username-display').textContent = 'Entrar/Registrar';
                document.getElementById('iconeRegistro').innerHTML = '<a href="login.html" onclick="logout()"><span class="material-symbols-outlined">login</span></a>'
            }
        }

        function logout() {
            localStorage.removeItem('usuarioLogado');
            window.location.replace('login.html'); // Redireciona para a p√°gina de login
        }

        document.addEventListener('DOMContentLoaded', exibirNomeUsuario);
    </script>
   
</body>

</html>